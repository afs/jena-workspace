PREFIX fuseki: <http://jena.apache.org/fuseki#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX tdb1:    <http://jena.hpl.hp.com/2008/tdb#>
PREFIX tdb2:    <http://jena.apache.org/2016/tdb#>
PREFIX ja: <http://jena.hpl.hp.com/2005/11/Assembler#>

[] rdf:type fuseki:Server ;
   .

# Model setup of TDB for TDB1 (ds1) and TDB2 (ds2).

<#tdb1> rdf:type fuseki:Service ;
    fuseki:name "ds1" ;
    fuseki:endpoint  [ fuseki:operation fuseki:query ; ] ;
    fuseki:dataset <#dataset1> ;
.

<#tdb2> rdf:type fuseki:Service ;
    fuseki:name "ds2" ;
    fuseki:endpoint  [ fuseki:operation fuseki:query ; ] ;
    fuseki:dataset <#dataset2> ;
.

## Full example.
## <#dataset2> rdf:type ja:RDFDataset ;
##     ja:defaultGraph <#dftGraph>
##     ja:defaultGraph <#graph1>
##     .
## 
## <#dftGraph> rdf:type ja:UnionModel ;
##    ja:subModel <#graph1> ;
##    ja:subModel <#graph2> ;
##    .
## 
## <#graph1> rdf:type tdb2:GraphTDB ;
##     tdb2:dataset <#base2> ;
##     .
## 
## <#graph2> rdf:type tdb2:GraphTDB ;
##     tdb2:dataset <#base2> ;
##     tdb2:graphName <urn:x-arq:UnionGraph> ;
##     .

<#base1> rdf:type    tdb1:DatasetTDB ;
    tdb1:location "DB1" ;
    .

<#base2> rdf:type    tdb2:DatasetTDB ;
    tdb2:location "DB2" ;
    .

## -- TDB1

<#dataset1> rdf:type ja:RDFDataset ;
    ja:defaultGraph <#dftGraph1>
    .

<#dftGraph1> rdf:type ja:UnionModel ;
   ja:subModel <#graph11> ;
   .

<#graph11> rdf:type tdb1:GraphTDB ;
    tdb1:dataset <#base1> ;
    .

## -- TDB2
<#dataset2> rdf:type ja:RDFDataset ;
    ja:defaultGraph <#dftGraph2>
    .

<#dftGraph2> rdf:type ja:UnionModel ;
   ja:subModel <#graph21> ;
   .

<#graph21> rdf:type tdb2:GraphTDB ;
    tdb2:dataset <#base2> ;
    .
